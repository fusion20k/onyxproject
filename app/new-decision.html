<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>New Decision - Onyx</title>
    <link rel="icon" type="image/x-icon" href="../assets/favicon.ico">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/new-decision.css">
</head>
<body class="new-decision-page">
    <div class="new-decision-container">
        <header class="new-decision-header">
            <a href="/app" class="back-link">← Back to workspace</a>
        </header>

        <main class="new-decision-main">
            <div class="new-decision-content">
                <div class="new-decision-intro">
                    <h1>Tell Onyx what you're deciding.</h1>
                    <p class="subtitle">Describe the situation, what you're considering, and what you care about. Onyx will break it down and stress-test your options.</p>
                </div>

                <form id="new-decision-form" class="new-decision-form">
                    <div class="input-container">
                        <textarea 
                            id="decision-input" 
                            class="decision-textarea" 
                            placeholder="What's going on?&#10;&#10;What are your options?&#10;&#10;What are you trying to maximize or protect?&#10;&#10;What constraints or deadlines do you have?"
                            required
                            minlength="50"
                        ></textarea>
                        <div class="char-counter">
                            <span id="char-count">0</span> characters (minimum 50)
                        </div>
                    </div>

                    <div class="helper-text">
                        <p>2–5 paragraphs is enough. Paste notes, screenshots of context, or rough drafts if you have them.</p>
                    </div>

                    <div class="form-actions">
                        <button type="submit" id="submit-btn" class="btn btn-primary" disabled>Analyze this decision</button>
                        <a href="/app" class="cancel-link">Cancel and go back</a>
                    </div>
                </form>

                <div id="loading-state" class="loading-state" style="display: none;">
                    <div class="loading-spinner"></div>
                    <p class="loading-text">Analyzing your decision...</p>
                    <p class="loading-subtext">This may take 20-30 seconds</p>
                </div>

                <div id="error-state" class="error-state" style="display: none;">
                    <p class="error-text"></p>
                    <button id="retry-btn" class="btn btn-secondary">Try again</button>
                </div>
            </div>
        </main>
    </div>

    <script src="../js/new-decision.js"></script>
</body>
</html>
